# python二次元配列

## python二次元配列の宣言方法

### 空リスト先にを宣言して後続処理でappend()などして要素を追加するとき

```python
A = [[] for _ in range(N)]
```

上記の記法で空リストをN個持つ二次元配列を宣言する。

### inputを要素として持つ二次元配列を作成するとき

1. for文の内包表記を使う

```python
# inputの例
# 0 1 1
# 1 0 0
# 0 1 0

N = 3
# 上記のinputを二次元配列として格納する
A = [list(map(int, input().split())) for _ in range(N)]
```

1. 予め二次元配列を宣言して、inputの内容を代入する

```python
# inputは1と同じ
N = 3
A = [[None] * N ] * N
for i in range(N):
    A[i] = list(map(int, input().split()))
```

1の方がスッキリしているので個人的には1の方が好み。

## 空リストをN個持つ二次元配列を宣言するときに気をつけること

以下の２つの書き方はどちらも空リストをN個持つ二次元配列を定義できるが挙動が異なる。

- `[[] for _ in range(N)]`
- `[[]] * N`

### `[[] for _ in range(N)]`

この書き方は内側のリストをN個生成するとき、各リストはあ別々のオブジェクトとして生成される。

よって内部リストの変更が他のリストに影響を与えることはない。

```python
b = [[] for _ in range(3)]
b[0].append(1)
print(b)  # => [[1], [], []]
```

### `[[]] * N`

一方この書き方は内部リストを浅いコピーしているので、各リストは同じオブジェクトとして扱われる。

一つの内部リストに対して変更が入ると、他のリストに影響が出てしまう。

```python
a = [[]] * 3
a[0].append(1)
print(a)  # => [[1], [1], [1]]
```